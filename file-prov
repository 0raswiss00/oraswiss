<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ora Swiss</title>

  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="styles.css">

  <style>
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff}
    .site-header{position:sticky;top:0;z-index:9999;background:#111}
    .nav-scroll{display:flex;gap:18px;align-items:center;overflow-x:auto;white-space:nowrap;padding:14px 16px}
    .nav-scroll a{color:#fff;text-decoration:none;padding:6px 10px}
    .nav-scroll a:hover{color:gold}
    .site-title{font-weight:700;line-height:1.05;margin-right:10px}
    .wrap{max-width:1100px;margin:0 auto;padding:30px 16px}
    .btnRow{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin:18px 0 30px}
    .btnRow a{padding:14px 22px;border:1px solid #888;border-radius:10px;text-decoration:none;color:#fff;background:#111}
    #guest,#loggedIn{max-width:520px;margin:0 auto}
    input{width:100%;padding:10px 12px;margin:8px 0;border-radius:8px;border:1px solid #444;background:#fff;color:#000}
    button{padding:10px 14px;border-radius:10px;border:1px solid #777;background:#111;color:#fff;cursor:pointer}
    button:hover{color:gold;border-color:gold}
    pre{background:#111;border:1px solid #333;padding:12px;border-radius:10px;overflow:auto}
  </style>
</head>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>

<body>

  <header class="site-header">
    <nav class="nav-scroll">
      <span class="site-title">ORA<br>SWISS</span>
      <a href="register.html">Register</a>
      <a href="sellnow.html">Sell Now</a>
      <a href="home.html">Home</a>
      <a href="luxury.html">Luxury</a>
      <a href="vintage.html">Vintage</a>
      <a href="parts.html">Parts</a>
      <a href="separate-parts.html">Separate Parts</a>
      <a href="service.html">Service</a>
      <a href="gallery.html">Gallery</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <a href="jewelry.html">Jewelry</a>
      <a href="policy.html">Policy</a>
      <a href="sell.html">Sell</a>
    </nav>
  </header>

  <div class="wrap">
    <section style="text-align:center; margin:20px 0 10px;">
      <h2>Shop Categories</h2>
      <div class="btnRow">
        <a href="shop-luxury.html">Shop Luxury</a>
        <a href="shop-vintage.html">Shop Vintage</a>
        <a href="shop-parts.html">Shop Parts</a>
      </div>
    </section>

    <div id="guest">
      <h3>Regjistrohu</h3>
      <input id="fullName" placeholder="Emri dhe Mbiemri">
      <input id="phone" placeholder="Telefoni">
      <input id="country" placeholder="Shteti">
      <input id="email" placeholder="Email">
      <input id="password" type="password" placeholder="Fjal√´kalimi">
      <button id="btnRegister" type="button">Register</button>

      <h3 style="margin-top:22px;">Hyr</h3>
      <input id="loginEmail" placeholder="Email">
      <input id="loginPassword" type="password" placeholder="Fjal√´kalimi">
      <button id="btnLogin" type="button">Login</button>
    </div>

    <div id="loggedIn" style="display:none;">
      <h3>Je i ky√ßur</h3>
      <button id="btnLogout" type="button">Logout</button>
      <pre id="profile"></pre>
    </div>
  </div>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/service-worker.js");
    }
  </script>

  <!-- ‚úÖ VET√ãM SDK i RI (module). ASNJ√ã compat. -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      onAuthStateChanged,
      signOut
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import {
      getFirestore,
      doc,
      setDoc,
      getDoc
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

   const firebaseConfig = {
     apiKey: "AIzaSyACmJj1OGz1gfRUjxz-w3_k94tNBfNyvVg",
     authDomain: "oraswiss-27e57.firebaseapp.com",
     projectId: "oraswiss-27e57",
     storageBucket: "oraswiss-27e57.firebasestorage.app",
     messagingSenderId: "596627676936",
     appId: "1:596627676936:web:0c96cf820fef4e979616bd",
     measurementId: "G-VZPKMD67VQ"
   };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

   onAuthStateChanged(auth, (user) => {
    if (user) {
      
      window.location.href = "profile.html";
    }
  });
    
    const guest = document.getElementById("guest");
    const loggedIn = document.getElementById("loggedIn");
    const profile = document.getElementById("profile");

    document.getElementById("btnRegister").addEventListener("click", async () => {
      try {
        const fullName = document.getElementById("fullName").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const country = document.getElementById("country").value.trim();
        const email = document.getElementById("email").value.trim();
        const pass = document.getElementById("password").value;

        if (!fullName || !phone || !country || !email || !pass) {
          alert("Plot√´so t√´ gjitha fushat!");
          return;
        }

        const cred = await createUserWithEmailAndPassword(auth, email, pass);

        await setDoc(doc(db, "users", cred.user.uid), {
          fullName, phone, country, email, createdAt: Date.now()
        });

        alert("U regjistrua me sukses!");
      } catch (e) {
        alert(e.message);
        console.error(e);
      }
    });

    document.getElementById("btnLogin").addEventListener("click", async () => {
      try {
        const email = document.getElementById("loginEmail").value.trim();
        const pass = document.getElementById("loginPassword").value;
        await signInWithEmailAndPassword(auth, email, pass);
      } catch (e) {
        alert(e.message);
        console.error(e);
      }
    });

    document.getElementById("btnLogout").addEventListener("click", async () => {
      await signOut(auth);
    });

    onAuthStateChanged(auth, async (user) => {
      if (user) {
        guest.style.display = "none";
        loggedIn.style.display = "block";

        try {
          const snap = await getDoc(doc(db, "users", user.uid));
          profile.textContent = snap.exists() ? JSON.stringify(snap.data(), null, 2) : "No profile";
        } catch (e) {
          profile.textContent = "No profile";
        }
      } else {
        loggedIn.style.display = "none";
        guest.style.display = "block";
        profile.textContent = "";
      }
    });
  </script>

</body>
</html>

faqe per index
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ora Swiss</title>

  <link rel="manifest" href="/manifest.webmanifest">
  
  <meta name="theme-color" content="#000000">
  
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Ora Swiss">

  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  <link rel="stylesheet" href="styles.css">

  <style>
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff}
    .site-header{position:sticky;top:0;z-index:9999;background:#111}
    .nav-scroll{display:flex;gap:18px;align-items:center;overflow-x:auto;white-space:nowrap;padding:14px 16px}
    .nav-scroll a{color:#fff;text-decoration:none;padding:6px 10px}
    .nav-scroll a:hover{color:gold}
    .site-title{font-weight:700;line-height:1.05;margin-right:10px}
    .wrap{max-width:1100px;margin:0 auto;padding:30px 16px}
    .btnRow{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin:18px 0 30px}
    .btnRow a{padding:14px 22px;border:1px solid #888;border-radius:10px;text-decoration:none;color:#fff;background:#111}
    #guest,#loggedIn{max-width:520px;margin:0 auto}
    input{width:100%;padding:10px 12px;margin:8px 0;border-radius:8px;border:1px solid #444;background:#fff;color:#000}
    button{padding:10px 14px;border-radius:10px;border:1px solid #777;background:#111;color:#fff;cursor:pointer}
    button:hover{color:gold;border-color:gold}
    pre{background:#111;border:1px solid #333;padding:12px;border-radius:10px;overflow:auto}
  </style>
</head>

<body>

  <header class="site-header">
    <nav class="nav-scroll">
      <span class="site-title">ORA<br>SWISS</span>
      <a href="register.html">Register</a>
      <a href="sellnow.html">Sell Now</a>
      <a href="home.html">Home</a>
      <a href="luxury.html">Luxury</a>
      <a href="vintage.html">Vintage</a>
      <a href="parts.html">Parts</a>
      <a href="separate-parts.html">Separate Parts</a>
      <a href="service.html">Service</a>
      <a href="gallery.html">Gallery</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <a href="jewelry.html">Jewelry</a>
      <a href="policy.html">Policy</a>
      <a href="sell.html">Sell</a>
    </nav>
  </header>

  <!-- ... pjesa tjet√´r e faqes ... -->

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/service-worker.js");
    }
  </script>

</body>
</html>

  <div class="wrap">
    <h3>Regjistrohu</h3>
    <input id="fullName" placeholder="Emri dhe Mbiemri" autocomplete="name">
    <input id="phone" placeholder="Telefoni" autocomplete="tel">
    <input id="country" placeholder="Shteti" autocomplete="country-name">
    <input id="email" type="email" placeholder="Email" autocomplete="email" autocapitalize="none">
    <input id="password" type="password" placeholder="Fjal√´kalimi" autocomplete="new-password">
    <button id="btnRegister" type="button">Register</button>

    <hr style="margin:22px 0;border-color:#222">

    <h3>Hyr</h3>
    <input id="loginEmail" type="email" placeholder="Email" autocomplete="email" autocapitalize="none">
    <input id="loginPassword" type="password" placeholder="Fjal√´kalimi" autocomplete="current-password">
    <button id="btnLogin" type="button">Login</button>
  </div>

  <!-- ‚úÖ VET√ãM 1 SCRIPT MODULE -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import {
      getAuth,
      setPersistence,
      browserLocalPersistence,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import {
      getFirestore,
      doc,
      setDoc
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

    // ‚úÖ SAME CONFIG (mos e ndrysho)
    const firebaseConfig = {
      apiKey: "AIzaSyACmJj1OGz1gfRUjxz-w3_k94tNBfNyvVg",
      authDomain: "oraswiss-27e57.firebaseapp.com",
      projectId: "oraswiss-27e57",
      storageBucket: "oraswiss-27e57.firebasestorage.app",
      messagingSenderId: "596627676936",
      appId: "1:596627676936:web:0c96cf820fef4e979616bd",
      measurementId: "G-VZPKMD67VQ"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // ‚úÖ Mbaj user-in t√´ ky√ßur n√´ faqe t√´ tjera
    await setPersistence(auth, browserLocalPersistence);

    // ‚úÖ N√´se √´sht√´ i ky√ßur, shko n√´ profil
    onAuthStateChanged(auth, (user) => {
      if (user) window.location.href = "profile.html";
    });

    // REGISTER
    document.getElementById("btnRegister").addEventListener("click", async () => {
      const fullName = document.getElementById("fullName").value.trim();
      const phone    = document.getElementById("phone").value.trim();
      const country  = document.getElementById("country").value.trim();
      const email    = document.getElementById("email").value.trim();
      const pass     = document.getElementById("password").value;

      if (!fullName || !phone || !country || !email || !pass) {
        alert("Plot√´so t√´ gjitha fushat!");
        return;
      }

      try {
        const cred = await createUserWithEmailAndPassword(auth, email, pass);

        await setDoc(doc(db, "users", cred.user.uid), {
          fullName, phone, country, email,
          createdAt: Date.now()
        });

        window.location.href = "profile.html";
      } catch (e) {
        alert(e.message);
        console.error(e);
      }
    });

    // LOGIN
    document.getElementById("btnLogin").addEventListener("click", async () => {
      const email = document.getElementById("loginEmail").value.trim();
      const pass  = document.getElementById("loginPassword").value;

      if (!email || !pass) {
        alert("Vendos email dhe fjal√´kalim.");
        return;
      }

      try {
        await signInWithEmailAndPassword(auth, email, pass);
        window.location.href = "profile.html";
      } catch (e) {
        alert(e.message);
        console.error(e);
      }
    });
  </script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/service-worker.js");
}
</script>
</body>  
</html>

regierlogoindex
 <div class="wrap">
    <h3>Regjistrohu</h3>
    <input id="fullName" placeholder="Emri dhe Mbiemri" autocomplete="name">
    <input id="phone" placeholder="Telefoni" autocomplete="tel">
    <input id="country" placeholder="Shteti" autocomplete="country-name">
    <input id="email" type="email" placeholder="Email" autocomplete="email" autocapitalize="none">
    <input id="password" type="password" placeholder="Fjal√´kalimi" autocomplete="new-password">
    <button id="btnRegister" type="button">Register</button>

    <hr style="margin:22px 0;border-color:#222">

    <h3>Hyr</h3>
    <input id="loginEmail" type="email" placeholder="Email" autocomplete="email" autocapitalize="none">
    <input id="loginPassword" type="password" placeholder="Fjal√´kalimi" autocomplete="current-password">
    <button id="btnLogin" type="button">Login</button>
  </div>
index file 6/1/2026
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ora Swiss</title>

  <link rel="manifest" href="/manifest.webmanifest">
  
  <meta name="theme-color" content="#000000">
  
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Ora Swiss">

  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  <link rel="stylesheet" href="styles.css">

  <style>
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff}
    .site-header{position:sticky;top:0;z-index:9999;background:#111}
    .nav-scroll{display:flex;gap:18px;align-items:center;overflow-x:auto;white-space:nowrap;padding:14px 16px}
    .nav-scroll a{color:#fff;text-decoration:none;padding:6px 10px}
    .nav-scroll a:hover{color:gold}
    .site-title{font-weight:700;line-height:1.05;margin-right:10px}
    .wrap{max-width:1100px;margin:0 auto;padding:30px 16px}
    .btnRow{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin:18px 0 30px}
    .btnRow a{padding:14px 22px;border:1px solid #888;border-radius:10px;text-decoration:none;color:#fff;background:#111}
    #guest,#loggedIn{max-width:520px;margin:0 auto}
    input{width:100%;padding:10px 12px;margin:8px 0;border-radius:8px;border:1px solid #444;background:#fff;color:#000}
    button{padding:10px 14px;border-radius:10px;border:1px solid #777;background:#111;color:#fff;cursor:pointer}
    button:hover{color:gold;border-color:gold}
    pre{background:#111;border:1px solid #333;padding:12px;border-radius:10px;overflow:auto}
  </style>
</head>

<body>

  <header class="site-header">
    <nav class="nav-scroll">
      <span class="site-title">ORA<br>SWISS</span>
      <a href="register.html">Register</a>
      <a href="sellnow.html">Sell Now</a>
      <a href="home.html">Home</a>
      <a href="luxury.html">Luxury</a>
      <a href="vintage.html">Vintage</a>
      <a href="parts.html">Parts</a>
      <a href="separate-parts.html">Separate Parts</a>
      <a href="service.html">Service</a>
      <a href="gallery.html">Gallery</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <a href="jewelry.html">Jewelry</a>
      <a href="policy.html">Policy</a>
      <a href="sell.html">Sell</a>
    </nav>
  </header>

  <!-- ... pjesa tjet√´r e faqes ... -->

<div class="hero">
  <div class="hero-left">
    <!-- k√´tu mund t√´ mbetet tekst ose bosh -->
  </div>

  <div class="hero-right">
    <img src="images/oraswiss-logo.png" alt="Oraswiss">
  </div>
</div>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/service-worker.js");
    }
  </script>

</body>
</html>

 
  <!-- ‚úÖ VET√ãM 1 SCRIPT MODULE -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import {
      getAuth,
      setPersistence,
      browserLocalPersistence,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import {
      getFirestore,
      doc,
      setDoc
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

    // ‚úÖ SAME CONFIG (mos e ndrysho)
    const firebaseConfig = {
      apiKey: "AIzaSyACmJj1OGz1gfRUjxz-w3_k94tNBfNyvVg",
      authDomain: "oraswiss-27e57.firebaseapp.com",
      projectId: "oraswiss-27e57",
      storageBucket: "oraswiss-27e57.firebasestorage.app",
      messagingSenderId: "596627676936",
      appId: "1:596627676936:web:0c96cf820fef4e979616bd",
      measurementId: "G-VZPKMD67VQ"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // ‚úÖ Mbaj user-in t√´ ky√ßur n√´ faqe t√´ tjera
    await setPersistence(auth, browserLocalPersistence);

    // ‚úÖ N√´se √´sht√´ i ky√ßur, shko n√´ profil
    onAuthStateChanged(auth, (user) => {
      if (user) window.location.href = "profile.html";
    });

    // REGISTER
    document.getElementById("btnRegister").addEventListener("click", async () => {
      const fullName = document.getElementById("fullName").value.trim();
      const phone    = document.getElementById("phone").value.trim();
      const country  = document.getElementById("country").value.trim();
      const email    = document.getElementById("email").value.trim();
      const pass     = document.getElementById("password").value;

      if (!fullName || !phone || !country || !email || !pass) {
        alert("Plot√´so t√´ gjitha fushat!");
        return;
      }

      try {
        const cred = await createUserWithEmailAndPassword(auth, email, pass);

        await setDoc(doc(db, "users", cred.user.uid), {
          fullName, phone, country, email,
          createdAt: Date.now()
        });

        window.location.href = "profile.html";
      } catch (e) {
        alert(e.message);
        console.error(e);
      }
    });

    // LOGIN
    document.getElementById("btnLogin").addEventListener("click", async () => {
      const email = document.getElementById("loginEmail").value.trim();
      const pass  = document.getElementById("loginPassword").value;

      if (!email || !pass) {
        alert("Vendos email dhe fjal√´kalim.");
        return;
      }

      try {
        await signInWithEmailAndPassword(auth, email, pass);
        window.location.href = "profile.html";
      } catch (e) {
        alert(e.message);
        console.error(e);
      }
    });
  </script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/service-worker.js");
}
document.addEventListener("DOMContentLoaded", () => {
  // k√´tu brenda vendos gjith√´ kodin e galeris√´ + swipe
});  
</script>
</body>
</html>
products  prov
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Products</title>
  <style>
    body { font-family: system-ui, -apple-system, Arial; margin: 16px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 14px; }
    .card { border: 1px solid #ddd; border-radius: 10px; overflow: hidden; cursor: pointer; }
    .card img { width: 100%; height: 200px; object-fit: cover; display: block; }
    .card .p { padding: 10px; }
    .muted { opacity: .7; font-size: 13px; }
    .price { font-weight: 700; margin-top: 6px; }

    /* Modal */
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,.75); display: none; align-items: center; justify-content: center; padding: 18px; }
    .modal.open { display: flex; }
    .modalBox { background: #fff; width: min(980px, 100%); border-radius: 12px; overflow: hidden; }
    .modalHead { padding: 12px 14px; display:flex; justify-content: space-between; align-items:center; border-bottom:1px solid #eee; }
    .closeBtn { font-size: 22px; cursor:pointer; user-select:none; }
    .modalBody { display: grid; grid-template-columns: 1.2fr .8fr; gap: 14px; padding: 14px; }
    @media (max-width: 820px) { .modalBody { grid-template-columns: 1fr; } }

    /* Gallery */
    .mainImg { width: 100%; border-radius: 10px; cursor: zoom-in; }
    .thumbs { display:flex; gap:8px; margin-top:10px; overflow:auto; padding-bottom:6px; }
    .thumbs img { width: 72px; height: 72px; object-fit: cover; border-radius: 8px; cursor:pointer; opacity:.7; }
    .thumbs img:hover { opacity: 1; }

    .spec { display:grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .spec div { border:1px solid #eee; border-radius:10px; padding:10px; }
    .label { font-size:12px; opacity:.7; }
    .val { font-weight:600; margin-top:2px; }
    .videoWrap { margin-top: 10px; }
    video { width: 100%; border-radius: 10px; }

  </style>
</head>
<body>

<h2>Products</h2>
<div id="grid" class="grid"></div>

<!-- Modal -->
<div id="modal" class="modal" onclick="closeModal(event)">
  <div class="modalBox" onclick="event.stopPropagation()">
    <div class="modalHead">
      <div id="modalTitle" style="font-weight:700;"></div>
      <div class="closeBtn" onclick="closeModal()">√ó</div>
    </div>
    <div class="modalBody">
      <div>
        <img id="mainImg" class="mainImg" src="" alt="Main" onclick="openFullscreen()">
        <div id="thumbs" class="thumbs"></div>

        <div id="videoWrap" class="videoWrap" style="display:none;"></div>
      </div>

      <div>
        <div class="price" id="modalPrice"></div>
        <div class="muted" id="modalMeta"></div>
        <div style="height:12px;"></div>

        <div class="spec" id="specGrid"></div>
      </div>
    </div>
  </div>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
  import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore.js";

  const firebaseConfig = {
    // TODO: paste SAME config here (same as admin.html)
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const grid = document.getElementById("grid");
  const modal = document.getElementById("modal");

  // Gallery state
  let galleryImages = [];
  let currentIndex = 0;
  let startX = 0;

  const mainImg = document.getElementById("mainImg");
  const thumbs = document.getElementById("thumbs");

  // Swipe on main image
  mainImg.addEventListener("touchstart", e => { startX = e.touches[0].clientX; });
  mainImg.addEventListener("touchend", e => {
    const endX = e.changedTouches[0].clientX;
    const diff = startX - endX;
    if (Math.abs(diff) > 50) changeImage(diff > 0 ? 1 : -1);
  });

  function setMain(src) {
    mainImg.src = src;
  }

  function renderThumbs(images) {
    thumbs.innerHTML = "";
    if (!images || images.length < 2) return;
    images.forEach((img, i) => {
      const t = document.createElement("img");
      t.src = img;
      t.onclick = () => { currentIndex = i; setMain(img); };
      thumbs.appendChild(t);
    });
  }

  function loadGallery(images) {
    galleryImages = images || [];
    currentIndex = 0;
    if (galleryImages.length > 0) setMain(galleryImages[0]);
    renderThumbs(galleryImages);
  }

  function changeImage(direction) {
    if (!galleryImages || galleryImages.length < 2) return;
    currentIndex += direction;
    if (currentIndex < 0) currentIndex = galleryImages.length - 1;
    if (currentIndex >= galleryImages.length) currentIndex = 0;
    setMain(galleryImages[currentIndex]);
  }

  window.openFullscreen = function () {
    if (mainImg.requestFullscreen) mainImg.requestFullscreen();
  };

  window.closeModal = function (e) {
    modal.classList.remove("open");
  };

  function addSpec(container, label, value) {
    if (value === null || value === undefined) return;
    if (typeof value === "string" && value.trim() === "") return;

    const box = document.createElement("div");
    const l = document.createElement("div");
    l.className = "label";
    l.textContent = label;

    const v = document.createElement("div");
    v.className = "val";
    v.textContent = value;

    box.appendChild(l);
    box.appendChild(v);
    container.appendChild(box);
  }

  function openProduct(p) {
    document.getElementById("modalTitle").textContent = ${p.brand || ""} ${p.model || ""}.trim();
    document.getElementById("modalPrice").textContent = ‚Ç¨ ${p.priceEur ?? ""}.trim();
    document.getElementById("modalMeta").textContent = [
      p.year ? Year: ${p.year} : "",
      p.reference ? Ref: ${p.reference} : "",
      p.negotiable === true ? "Negotiable" : (p.negotiable === false ? "Not negotiable" : "")
    ].filter(Boolean).join(" ‚Ä¢ ");

    // Gallery
    loadGallery(p.images || []);

    // Video (only if exists)
    const videoWrap = document.getElementById("videoWrap");
    if (p.videoUrl && p.videoUrl.trim() !== "") {
      videoWrap.style.display = "block";
      videoWrap.innerHTML = <video controls playsinline src="${p.videoUrl}"></video>;
    } else {
      videoWrap.style.display = "none";
      videoWrap.innerHTML = "";
    }

    // Specs (auto-hide empty)
    const specGrid = document.getElementById("specGrid");
    specGrid.innerHTML = "";
    addSpec(specGrid, "Material", p.material);
    addSpec(specGrid, "Case (mm)", p.caseMm);
    addSpec(specGrid, "Bracelet type", p.braceletType);
    addSpec(specGrid, "Bracelet (mm)", p.braceletMm);
    addSpec(specGrid, "Wrist long", p.wristLong);
    addSpec(specGrid, "Wrist short", p.wristShort);
    addSpec(specGrid, "Movement", p.movement);
    addSpec(specGrid, "Caliber", p.caliber);
    addSpec(specGrid, "Dial color", p.dialColor);
    addSpec(specGrid, "Work", p.work);
    addSpec(specGrid, "Service date", p.serviceDate);
    addSpec(specGrid, "Box & Papers", p.boxPapers);
    addSpec(specGrid, "Functions", p.functions);

    modal.classList.add("open");
  }

  async function loadProducts() {
    grid.innerHTML = "Loading...";
    const q = query(collection(db, "products"), orderBy("createdAt", "desc"));
    const snap = await getDocs(q);

    grid.innerHTML = "";
    snap.forEach(doc => {
      const p = doc.data();
      const img = (p.images && p.images[0]) ? p.images[0] : "";

      const card = document.createElement("div");
      card.className = "card";
      card.onclick = () => openProduct(p);

      card.innerHTML = `
        <img src="${img}" alt="">
        <div class="p">
          <div style="font-weight:700;">${(p.brand || "")} ${(p.model || "")}</div>
          <div class="muted">${p.year ? Year ${p.year} : ""} ${p.reference ? ‚Ä¢ ${p.reference} : ""}</div>
          <div class="price">‚Ç¨ ${p.priceEur ?? ""}</div>
        </div>
      `;
      grid.appendChild(card);
    });

    if (grid.innerHTML.trim() === "") grid.innerHTML = "No products yet.";
  }

  loadProducts();
</script>

</body>
</html>

sellnow
<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <button class="back-btn" onclick="history.back()">‚Üê Back</button>
  <title>Sell Now</title>
  
  <style>
    body{font-family:Arial,sans-serif;background:#0b0b0b;color:#fff;margin:0;padding:20px}
    .wrap{max-width:900px;margin:0 auto}
    .top{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:820px){.row{grid-template-columns:1fr}}
    label{display:block;margin:12px 0 6px;color:#ddd}
    input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#111;color:#fff}
    textarea{min-height:90px}
    .btn{margin-top:14px;padding:10px 12px;border-radius:12px;border:1px solid #2a2a2a;background:#0f0f0f;color:#fff;cursor:pointer}
    .btn:hover{background:#1a1a1a}
    .note{opacity:.85;font-size:13px;margin-top:8px;line-height:1.4}
    pre{background:#111;border:1px solid #222;border-radius:12px;padding:12px;overflow:auto}
    .smallbtn{padding:8px 10px;border-radius:12px;border:1px solid #2a2a2a;background:#0f0f0f;color:#fff;cursor:pointer}
    .smallbtn:hover{background:#1a1a1a}
  .sell-btn {
    display: inline-block;
    margin-top: 16px;
    padding: 14px 22px;
    background: #25D366;
    color: white;
    font-weight: bold;
    border-radius: 6px;
    text-decoration: none;
  }
  .sell-btn:hover {
    background: #1ebe5d;
  }
  </style>  

  <!-- Password (client-side) -->
  <script>
    const PASS = "1234"; // ndrysho password
    const KEY = "sellnow_ok";
    if (localStorage.getItem(KEY) !== "1") {
      const p = prompt("Password:");
      if (p === PASS) localStorage.setItem(KEY,"1");
      else { alert("Wrong password"); location.href="index.html"; }
    }
  </script>

  <!-- Cloudinary Upload Widget -->
  <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
</head>

<body>
<div class="wrap">

  <div class="top">
    <h1 style="margin:0">Sell Now</h1>
    <button class="smallbtn" id="logout" type="button">Logout</button>
  </div>

  <div class="note">
    ‚úÖ Upload Photos ngarkon foto REALISHT nga telefoni/PC dhe i vendos URL-t√´ automatikisht te <b>photos</b>.
  </div>

  <label>Category</label>
  <select id="cat">
    <option value="luxury">Luxury</option>
    <option value="vintage" selected>Vintage</option>
    <option value="parts">Parts</option>
  </select>

  <div class="row">
    <div><label>Brand</label><input id="brand" placeholder="Omega"></div>
    <div><label>Model</label><input id="model" placeholder="Vintage"></div>
  </div>

  <div class="row">
    <div><label>Ref</label><input id="ref" placeholder="2400-4"></div>
    <div><label>Year</label><input id="year" placeholder="1999"></div>
  </div>

  <div class="row">
    <div><label>Material</label><input id="material" placeholder="Steel"></div>
    <div><label>Case Size (mm)</label><input id="caseSize" placeholder="35"></div>
  </div>

  <div class="row">
    <div>
      <label>Condition</label>
      <select id="condition">
        <option>New</option>
        <option>Like New</option>
        <option selected>Very Good</option>
        <option>Good</option>
        <option>Used - Fair</option>
      </select>
    </div>
    <div><label>Price</label><input id="price" placeholder="900 ‚Ç¨"></div>
  </div>

  <label>Description</label>
  <textarea id="description" placeholder="Original, serviced"></textarea>

  <label>Photos (URLs)</label>
  <button class="btn" id="uploadBtn" type="button">Upload Photos</button>
  <textarea id="photos" placeholder="URL-t√´ e fotove do dalin k√´tu, me presje"></textarea>
  <a
    href="https://wa.me/355692408065?text=Hello%20dua%20te%20shes%20nje%20ore"
    class="sell-btn"
    target="_blank"

    SELL NOW
  </a>
  <div class="note">
    N√´se s‚Äôpo hapet widget-i: Cloud name / upload preset jan√´ gabim.
  </div>

  <button class="btn" id="make" type="button">Generate JSON</button>

  <h3 style="margin:18px 0 8px">Copy this into watches.json</h3>
  <pre id="out">Kliko "Generate JSON"</pre>
  <button class="btn" id="copy" type="button">Copy</button>

</div>

<script>
const $ = id => document.getElementById(id);
const parse = t => (t||"").split(/[\n,]+/g).map(s=>s.trim()).filter(Boolean);

// LOGOUT
$("logout").onclick = ()=>{
  localStorage.removeItem("sellnow_ok");
  location.href="index.html";
};

// CLOUDINARY CONFIG (z√´vend√´so k√´to 2 vlera)
const CLOUD_NAME = "oraswiss";
const UPLOAD_PRESET = "sellnow";

// UPLOAD BUTTON
$("uploadBtn").onclick = ()=>{
  if (!CLOUD_NAME.includes("PASTE") && !UPLOAD_PRESET.includes("PASTE")) {
    cloudinary.openUploadWidget(
      {
        cloudName: CLOUD_NAME,
        uploadPreset: UPLOAD_PRESET,
        multiple: true,
        sources: ["local","camera"],
        folder: "products"
      },
      (err, result) => {
        if (err) {
          alert("Upload error");
          console.error(err);
          return;
        }
        if (result && result.event === "success") {
          const ta = $("photos");
          const urls = parse(ta.value);
          urls.push(result.info.secure_url);
          ta.value = urls.join(", ");
        }
      }
    );
  } else {
    alert("Vendos CLOUD_NAME dhe UPLOAD_PRESET te kodi.");
  }
};

// JSON GENERATOR
$("make").onclick = ()=>{
  const item = {
    id: Date.now(),
    cat: ($("cat").value||"").toLowerCase().trim(),
    brand: $("brand").value.trim(),
    model: $("model").value.trim(),
    ref: $("ref").value.trim(),
    year: $("year").value.trim(),
    material: $("material").value.trim(),
    caseSize: $("caseSize").value.trim(),
    condition: $("condition").value,
    price: $("price").value.trim(),
    description: $("description").value.trim(),
    photos: parse($("photos").value)
  };
  $("out").textContent = JSON.stringify(item, null, 2);
};

// COPY
$("copy").onclick = async ()=>{
  try { await navigator.clipboard.writeText($("out").textContent); alert("Copied ‚úÖ"); }
  catch { alert("Copy manualisht."); }
};
</script>
<script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>

<script>
const widget = cloudinary.createUploadWidget(
  {
    cloudName: "drfjznv52",
    uploadPreset: "oraswiss_upload",
    folder: "watches",
    multiple: true
  },
  (error, result) => {
    if (!error && result && result.event === "success") {
      const textarea = document.getElementById("photos");
      textarea.value += result.info.secure_url + "\n";
    }
  }
);

document.getElementById("uploadBtn").addEventListener("click", () => {
  widget.open();
});
</script>

<script>
document.getElementById("sellNow").addEventListener("click", function (e) {
  const photos = document.getElementById("photos").value.trim();

  if (!photos) {
    e.preventDefault();
    alert("Duhet t√´ ngarkosh t√´ pakt√´n nj√´ foto para se t√´ shes√´sh.");
    return;
  }

  const brand = document.getElementById("brand").value;
  const model = document.getElementById("model").value;
  const price = document.getElementById("price").value;

  const message =
    P√´rsh√´ndetje,%0A +
    Dua t√´ shes nj√´ or√´:%0A +
    Brand: ${brand}%0A +
    Model: ${model}%0A +
    √ámimi: ${price}‚Ç¨%0A%0A +
    Fotot:%0A${photos};

  this.href = https://wa.me/355692408065?text=${message};
});
</script>
  
</body>
</html>


index regi
  <div class="wrap">
    <h3>Regjistrohu</h3>
    <input id="fullName" placeholder="Emri dhe Mbiemri" autocomplete="name">
    <input id="phone" placeholder="Telefoni" autocomplete="tel">
    <input id="country" placeholder="Shteti" autocomplete="country-name">
    <input id="email" type="email" placeholder="Email" autocomplete="email" autocapitalize="none">
    <input id="password" type="password" placeholder="Fjal√´kalimi" autocomplete="new-password">
    <button id="btnRegister" type="button">Register</button>

    <hr style="margin:22px 0;border-color:#222">

    <h3>Hyr</h3>
    <input id="loginEmail" type="email" placeholder="Email" autocomplete="email" autocapitalize="none">
    <input id="loginPassword" type="password" placeholder="Fjal√´kalimi" autocomplete="current-password">
    <button id="btnLogin" type="button">Login</button>
  </div>


supabaze
alter table public.watches
add column if not exists status text not null default 'pending';

alter table public.watches
add column if not exists photos text[] not null default '{}';

alter table public.watches enable row level security

drop policy if exists "allow anon insert" on public.watches;
create policy "allow anon insert"
on public.watches
for insert
to anon
with check (true);

drop policy if exists "allow anon read approved" on public.watches;
create policy "allow anon read approved"
on public.watches
for select
to anon
using (status = 'approved');



FILE PER SELLNOW DATE 8/01/2026
<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Shto or√´ (Admin)</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin.css">

  <style>
    body{font-family:Arial,sans-serif;background:#0b0b0b;color:#fff;margin:0;padding:20px}
    .wrap{max-width:900px;margin:0 auto}
    .top{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:820px){.row{grid-template-columns:1fr}}
    label{display:block;margin:12px 0 6px;color:#ddd}
    input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#111;color:#fff}
    textarea{min-height:90px}
    .btn{margin-top:14px;padding:12px 14px;border-radius:12px;border:1px solid #2a2a2a;background:#0f0f0f;color:#fff;cursor:pointer}
    .btn:hover{background:#1a1a1a}
    .note{opacity:.85;font-size:13px;margin-top:8px;line-height:1.4}
    .ok{color:#25D366}
    .bad{color:#ff6b6b}

    /* ‚úÖ LOGO N√ã MES */
    .logo-center{
      display:flex;
      justify-content:center;
      margin: 10px 0 30px;
    }
    .logo-center img{
      height: 200px; /* rrite n√´ 240px n√´se do m√´ t√´ madhe */
    }
  </style>
</head>

<body>
<div class="wrap">

  <!-- ‚úÖ LOGO N√ã MES (SIP√ãR) -->
  <div class="logo-center">
    <img src="images/oraswiss-logo.png" alt="OraSwiss Logo">
  </div>

  <div class="top">
    <h2 style="margin:0">Shto or√´ (Admin)</h2>
    <button class="btn" type="button" onclick="history.back()">‚Üê Back</button>
  </div>

  <div class="note">
    1) Kliko <b>Upload Photos</b> (ngarkon fotot dhe mbush automatikisht URL-t√´)<br/>
    2) Plot√´so fushat<br/>
    3) Kliko <b>PUBLISH</b> ‚Üí shkon n√´ Supabase me status <b>pending</b>
  </div>

  <label>Category</label>
  <select id="category">
    <option value="luxury">Luxury</option>
    <option value="vintage" selected>Vintage</option>
    <option value="parts">Parts</option>
  </select>

  <div class="row">
    <div><label>Brand</label><input id="brand" placeholder="Omega"></div>
    <div><label>Model</label><input id="model" placeholder="Seamaster"></div>
  </div>

  <div class="row">
    <div><label>Ref</label><input id="ref" placeholder="2400-4"></div>
    <div><label>Year</label><input id="year" type="number" placeholder="1999"></div>
  </div>

  <div class="row">
    <div><label>Material</label><input id="material" placeholder="Steel"></div>
    <div><label>Case Size (mm)</label><input id="case_size" type="number" placeholder="35"></div>
  </div>

  <div class="row">
    <div>
      <label>Condition</label>
      <select id="condition">
        <option>New</option>
        <option>Like New</option>
        <option selected>Very Good</option>
        <option>Good</option>
        <option>Used - Fair</option>
      </select>
    </div>
    <div><label>Price (‚Ç¨)</label><input id="price" type="number" placeholder="900"></div>
  </div>

  <div class="row">
    <div>
      <label>Box & Papers</label>
      <select id="box">
        <option value="">Nuk e di</option>
        <option value="fullset">Box & Papers</option>
        <option value="box_only">Vet√´m Box</option>
        <option value="papers_only">Vet√´m Papers</option>
        <option value="none">Pa Box / Papers</option>
      </select>
    </div>
    <div>
      <label>Working</label>
      <select id="working">
        <option value="">Nuk e di</option>
        <option value="working">Working</option>
        <option value="not_working">Not working</option>
      </select>
    </div>
  </div>

  <label>Description</label>
  <textarea id="description" placeholder="Shkruaj detaje..."></textarea>

  <label>Photos (URLs)</label>
  <button class="btn" id="uploadBtn" type="button">Upload Photos</button>
  <textarea id="photos" placeholder="URL-t√´ dalin k√´tu (automatikisht)..." readonly></textarea>

  <button class="btn" id="publishBtn" type="button">PUBLISH</button>

  <div id="msg" class="note"></div>

</div>

<!-- Cloudinary -->
<script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
<script>
  const CLOUD_NAME = "drfjznv52";
  const UPLOAD_PRESET = "oraswiss_upload";

  const widget = cloudinary.createUploadWidget(
    {
      cloudName: CLOUD_NAME,
      uploadPreset: UPLOAD_PRESET,
      folder: "watches",
      multiple: true,
      sources: ["local", "camera"]
    },
    (error, result) => {
      if (error) { console.error(error); return; }
      if (result && result.event === "success") {
        const ta = document.getElementById("photos");
        const current = ta.value.trim();
        ta.value = current ? (current + "\n" + result.info.secure_url) : result.info.secure_url;
      }
    }
  );

  document.getElementById("uploadBtn").addEventListener("click", () => widget.open());
</script>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const SUPABASE_URL = "PASTE_PROJECT_URL_KETU";
  const SUPABASE_ANON_KEY = "PASTE_ANON_PUBLIC_KEY_KETU";

  const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  const msg = (text, ok=true) => {
    const el = document.getElementById("msg");
    el.className = "note " + (ok ? "ok" : "bad");
    el.textContent = text;
  };

  document.getElementById("publishBtn").addEventListener("click", async () => {
    try {
      const photosText = document.getElementById("photos").value.trim();
      if (!photosText) { msg("Ngarko t√´ pakt√´n 1 foto.", false); return; }

      const photos = photosText.split(/\n|,/g).map(s => s.trim()).filter(Boolean);

      const data = {
        category: document.getElementById("category").value,
        brand: document.getElementById("brand").value.trim(),
        model: document.getElementById("model").value.trim(),
        ref: document.getElementById("ref").value.trim(),
        year: document.getElementById("year").value ? Number(document.getElementById("year").value) : null,
        material: document.getElementById("material").value.trim(),
        condition: document.getElementById("condition").value,
        description: document.getElementById("description").value.trim(),
        case_size: document.getElementById("case_size").value ? Number(document.getElementById("case_size").value) : null,
        price: document.getElementById("price").value ? Number(document.getElementById("price").value) : null,
        photos,
        box: document.getElementById("box").value || null,
        working: document.getElementById("working").value || null,
        status: "pending"
      };

      msg("Duke d√´rguar...", true);

      const { error } = await supabaseClient.from("watches").insert([data]);
      if (error) { msg("Gabim Supabase: " + error.message, false); console.error(error); return; }

      msg("U d√´rgua ‚úÖ (pending).", true);
    } catch (e) {
      msg("Gabim rrjeti/JS: " + (e?.message || String(e)), false);
      console.error(e);
    }
  });
</script>

</body>
</html>


FILEL SELL NOW DAT 7 /01/2026
<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Shto or√´ (Admin)</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin.css">

  
  <style>
    body{font-family:Arial,sans-serif;background:#0b0b0b;color:#fff;margin:0;padding:20px}
    .wrap{max-width:900px;margin:0 auto}
    .top{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:820px){.row{grid-template-columns:1fr}}
    label{display:block;margin:12px 0 6px;color:#ddd}
    input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#111;color:#fff}
    textarea{min-height:90px}
    .btn{margin-top:14px;padding:12px 14px;border-radius:12px;border:1px solid #2a2a2a;background:#0f0f0f;color:#fff;cursor:pointer}
    .btn:hover{background:#1a1a1a}
    .note{opacity:.85;font-size:13px;margin-top:8px;line-height:1.4}
    .ok{color:#25D366}
    .bad{color:#ff6b6b}
  </style>
</head>

<body>
<div class="wrap">

  <div class="top">
    <h2 style="margin:0">Shto or√´ (Admin)</h2>
    <button class="btn" type="button" onclick="history.back()">‚Üê Back</button>
  </div>

  <div class="note">
    1) Kliko <b>Upload Photos</b> (ngarkon fotot dhe mbush automatikisht URL-t√´)<br/>
    2) Plot√´so fushat<br/>
    3) Kliko <b>PUBLISH</b> ‚Üí shkon n√´ Supabase me status <b>pending</b>
  </div>

  <label>Category</label>
  <select id="category">
    <option value="luxury">Luxury</option>
    <option value="vintage" selected>Vintage</option>
    <option value="parts">Parts</option>
  </select>

  <div class="row">
    <div><label>Brand</label><input id="brand" placeholder="Omega"></div>
    <div><label>Model</label><input id="model" placeholder="Seamaster"></div>
  </div>

  <div class="row">
    <div><label>Ref</label><input id="ref" placeholder="2400-4"></div>
    <div><label>Year</label><input id="year" type="number" placeholder="1999"></div>
  </div>

  <div class="row">
    <div><label>Material</label><input id="material" placeholder="Steel"></div>
    <div><label>Case Size (mm)</label><input id="case_size" type="number" placeholder="35"></div>
  </div>

  <div class="row">
    <div>
      <label>Condition</label>
      <select id="condition">
        <option>New</option>
        <option>Like New</option>
        <option selected>Very Good</option>
        <option>Good</option>
        <option>Used - Fair</option>
      </select>
    </div>
    <div><label>Price (‚Ç¨)</label><input id="price" type="number" placeholder="900"></div>
  </div>

  <div class="row">
    <div>
      <label>Box & Papers</label>
      <select id="box">
        <option value="">Nuk e di</option>
        <option value="fullset">Box & Papers</option>
        <option value="box_only">Vet√´m Box</option>
        <option value="papers_only">Vet√´m Papers</option>
        <option value="none">Pa Box / Papers</option>
      </select>
    </div>
    <div>
      <label>Working</label>
      <select id="working">
        <option value="">Nuk e di</option>
        <option value="working">Working</option>
        <option value="not_working">Not working</option>
      </select>
    </div>
  </div>

  <label>Description</label>
  <textarea id="description" placeholder="Shkruaj detaje..."></textarea>

  <label>Photos (URLs)</label>
  <button class="btn" id="uploadBtn" type="button">Upload Photos</button>
  <textarea id="photos" placeholder="URL-t√´ dalin k√´tu (automatikisht)..." readonly></textarea>

  <button class="btn" id="publishBtn" type="button">PUBLISH</button>

  <div id="msg" class="note"></div>

</div>

<!-- Cloudinary -->
<script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
<script>
  const CLOUD_NAME = "drfjznv52";
  const UPLOAD_PRESET = "oraswiss_upload";

  const widget = cloudinary.createUploadWidget(
    {
      cloudName: CLOUD_NAME,
      uploadPreset: UPLOAD_PRESET,
      folder: "watches",
      multiple: true,
      sources: ["local", "camera"]
    },
    (error, result) => {
      if (error) { console.error(error); return; }
      if (result && result.event === "success") {
        const ta = document.getElementById("photos");
        const current = ta.value.trim();
        ta.value = current ? (current + "\n" + result.info.secure_url) : result.info.secure_url;
      }
    }
  );

  document.getElementById("uploadBtn").addEventListener("click", () => widget.open());
</script>

<!-- Supabase (v2) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  // üî• VENDOS K√ãTU T√ã TUAJAT (Settings ‚Üí API)
  const SUPABASE_URL = "PASTE_PROJECT_URL_KETU";
  const SUPABASE_ANON_KEY = "PASTE_ANON_PUBLIC_KEY_KETU";

  const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  const msg = (text, ok=true) => {
    const el = document.getElementById("msg");
    el.className = "note " + (ok ? "ok" : "bad");
    el.textContent = text;
  };

  document.getElementById("publishBtn").addEventListener("click", async () => {
    try {
      const photosText = document.getElementById("photos").value.trim();
      if (!photosText) { msg("Ngarko t√´ pakt√´n 1 foto.", false); return; }

      // ‚úÖ text[] (nj√´ URL p√´r rresht ose me presje)
      const photos = photosText
        .split(/\n|,/g)
        .map(s => s.trim())
        .filter(Boolean);

      const data = {
        category: document.getElementById("category").value,
        brand: document.getElementById("brand").value.trim(),
        model: document.getElementById("model").value.trim(),
        ref: document.getElementById("ref").value.trim(),
        year: document.getElementById("year").value ? Number(document.getElementById("year").value) : null,
        material: document.getElementById("material").value.trim(),
        condition: document.getElementById("condition").value,
        description: document.getElementById("description").value.trim(),
        case_size: document.getElementById("case_size").value ? Number(document.getElementById("case_size").value) : null,
        price: document.getElementById("price").value ? Number(document.getElementById("price").value) : null,
        photos: photos,                 // ‚úÖ RUHET SI ARRAY (text[])
        box: document.getElementById("box").value || null,
        working: document.getElementById("working").value || null,
        status: "pending"
      };

      msg("Duke d√´rguar...", true);

      const { error } = await supabaseClient.from("watches").insert([data]);
      if (error) { msg("Gabim Supabase: " + error.message, false); console.error(error); return; }

      msg("U d√´rgua ‚úÖ (pending).", true);
    } catch (e) {
      msg("Gabim rrjeti/JS: " + (e?.message || String(e)), false);
      console.error(e);
    }
  });
</script>

</body>
</html>
