sell.html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sell Your Watch</title>

<!-- UPLOADCARE SCRIPT -->
<script>
  UPLOADCARE_PUBLIC_KEY = "demopublickey"; /* kur t√´ hap√´sh llogari t√´nde, e z√´vend√´son */
</script>
<script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>

<style>
body {
    margin: 0;
    padding: 0;
    background: #000;
    color: #fff;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
}

.sell-form {
    background: #111;
    padding: 30px 25px;
    border-radius: 10px;
    width: 100%;
    max-width: 420px;
    margin-top: 40px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.7);
}

.sell-form h3 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 20px;
    border-bottom: 1px solid #222;
    padding-bottom: 5px;
}

.sell-form label {
    display: block;
    font-size: 14px;
    margin-top: 12px;
    margin-bottom: 5px;
}

.sell-form input,
.sell-form textarea,
.sell-form select {
    width: 100%;
    padding: 10px 12px;
    border-radius: 6px;
    border: 1px solid #333;
    background: #1b1b1b;
    color: #fff;
    font-size: 14px;
    margin-bottom: 10px;
}

.sell-form textarea {
    resize: vertical;
}

.sell-form button {
    width: 100%;
    padding: 12px;
    background: #0099ff;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    margin-top: 15px;
}

.sell-form button:hover {
    background: #0077cc;
}
</style>
</head>

<body>

<form action="https://api.web3forms.com/submit"
      method="POST"
      class="sell-form">

    <!-- Web3Forms settings -->
    <input type="hidden" name="access_key" value="4ecbdce6-d462-4e39-b39d-8c11e0095f46">
    <input type="hidden" name="subject" value="New Sell Your Watch Request">
    <input type="hidden" name="from_name" value="OraSwiss Website">
    <input type="hidden" name="botcheck">

    <!-- K√´tu do ruajm√´ linkun e fotos -->
    <input type="hidden" name="photos" id="photosField">

    <h3>Your Details</h3>

    <label>First name:</label>
    <input type="text" name="first_name" placeholder="Your first name" required>

    <label>Last name:</label>
    <input type="text" name="last_name" placeholder="Your last name" required>

    <label>Email:</label>
    <input type="email" name="email" placeholder="Your email address" required>

    <label>Phone:</label>
    <input type="text" name="phone" placeholder="+355..., +30..." required>

    <h3>Watch Details</h3>

    <label>Brand:</label>
    <input type="text" name="brand" placeholder="Rolex, Omega, etc." required>

    <label>Model / Reference:</label>
    <input type="text" name="model" placeholder="Model / Reference">

    <label>Movement type:</label>
    <select name="movement">
        <option>Automatic</option>
        <option>Manual</option>
        <option>Quartz</option>
        <option>Other</option>
    </select>

    <label>Year (approx.):</label>
    <input type="text" name="year" placeholder="Approximate year">

    <label>Condition / Notes:</label>
    <textarea name="notes" rows="4"
              placeholder="Condition, box & papers, service history..."></textarea>

    <label>Upload Photos:</label>
    <input
      type="hidden"
      role="uploadcare-uploader"
      data-multiple="false"
      data-clearable="true"
      id="uploader"
    />

    <button type="submit">Send Offer</button>

    <a href="index.html"
       style="color:#ccc; text-align:center; display:block; margin-top:10px;">
       ‚Üê Back to Home
    </a>

</form>

<!-- SCRIPT q√´ kopjon linkun e fotos te photosField -->
<script>
  (function() {
    var widget = uploadcare.Widget('#uploader');

    widget.onUploadComplete(function(fileInfo) {
        // fileInfo.cdnUrl = linku direkt i fotos
        var field = document.getElementById('photosField');
        field.value = fileInfo.cdnUrl || '';
    });
  })();
</script>

</body>
</html>





sellnow.html
<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Shto or√´ (sell now)</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin.css">

  <style>
    body{font-family:Arial,sans-serif;background:#0b0b0b;color:#fff;margin:0;padding:20px}
    .wrap{max-width:900px;margin:0 auto}
    .top{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:820px){.row{grid-template-columns:1fr}}
    label{display:block;margin:12px 0 6px;color:#ddd}
    input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#111;color:#fff}
    textarea{min-height:90px}
    .btn{margin-top:14px;padding:12px 14px;border-radius:12px;border:1px solid #2a2a2a;background:#0f0f0f;color:#fff;cursor:pointer}
    .btn:hover{background:#1a1a1a}
    .note{opacity:.85;font-size:13px;margin-top:8px;line-height:1.4}
    .ok{color:#25D366}
    .bad{color:#ff6b6b}

    /* ‚úÖ LOGO N√ã MES */
    .logo-center{
      display:flex;
      justify-content:center;
      margin: 10px 0 30px;
    }
    .logo-center img{
      height: 200px; /* rrite n√´ 240px n√´se do m√´ t√´ madhe */
    }
  </style>
</head>

<body>
<div class="wrap">

  <!-- ‚úÖ LOGO N√ã MES (SIP√ãR) -->
  <div class="logo-center">
    <img src="images/oraswiss-logo.png" alt="OraSwiss Logo">
  </div>

  <div class="top">
    <h2 style="margin:0">Shto or√´ (sell now)</h2>
    <button class="btn" type="button" onclick="history.back()">‚Üê Back</button>
  </div>

  <div class="note">
    1) Kliko <b>Upload Photos</b> (ngarkon fotot dhe mbush automatikisht URL-t√´)<br/>
    2) Plot√´so fushat<br/>
    3) Kliko <b>PUBLISH</b> ‚Üí shkon n√´ Supabase me status <b>pending</b>
  </div>

  <label>Category</label>
  <select id="category">
    <option value="luxury">Luxury</option>
    <option value="vintage" selected>Vintage</option>
    <option value="parts">Parts</option>
  </select>

  <div class="row">
    <div><label>Brand</label><input id="brand" placeholder="Omega"></div>
    <div><label>Model</label><input id="model" placeholder="Seamaster"></div>
  </div>

  <div class="row">
    <div><label>Ref</label><input id="ref" placeholder="2400-4"></div>
    <div><label>Year</label><input id="year" type="number" placeholder="1999"></div>
  </div>

  <div class="row">
    <div><label>Material</label><input id="material" placeholder="Steel"></div>
    <div><label>Case Size (mm)</label><input id="case_size" type="number" placeholder="35"></div>
  </div>

  <div class="row">
    <div>
      <label>Condition</label>
      <select id="condition">
        <option>New</option>
        <option>Like New</option>
        <option selected>Very Good</option>
        <option>Good</option>
        <option>Used - Fair</option>
      </select>
    </div>
    <div><label>Price (‚Ç¨)</label><input id="price" type="number" placeholder="900"></div>
  </div>

  <div class="row">
    <div>
      <label>Box & Papers</label>
      <select id="box">
        <option value="">Nuk e di</option>
        <option value="fullset">Box & Papers</option>
        <option value="box_only">Vet√´m Box</option>
        <option value="papers_only">Vet√´m Papers</option>
        <option value="none">Pa Box / Papers</option>
      </select>
    </div>
    <div>
      <label>Working</label>
      <select id="working">
        <option value="">Nuk e di</option>
        <option value="working">Working</option>
        <option value="not_working">Not working</option>
      </select>
    </div>
  </div>

  <label>Description</label>
  <textarea id="description" placeholder="Shkruaj detaje..."></textarea>

  <label>Photos (URLs)</label>
  <button class="btn" id="uploadBtn" type="button">Upload Photos</button>
  <textarea id="photos" placeholder="URL-t√´ dalin k√´tu (automatikisht)..." readonly></textarea>

  <button class="btn" id="publishBtn" type="button">PUBLISH</button>

  <div id="msg" class="note"></div>

</div>

<!-- Cloudinary -->
<script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
<script>
  const CLOUD_NAME = "drfjznv52";
  const UPLOAD_PRESET = "oraswiss_upload";

  const widget = cloudinary.createUploadWidget(
    {
      cloudName: CLOUD_NAME,
      uploadPreset: UPLOAD_PRESET,
      folder: "watches",
      multiple: true,
      sources: ["local", "camera"]
    },
    (error, result) => {
      if (error) { console.error(error); return; }
      if (result && result.event === "success") {
        const ta = document.getElementById("photos");
        const current = ta.value.trim();
        ta.value = current ? (current + "\n" + result.info.secure_url) : result.info.secure_url;
      }
    }
  );

  document.getElementById("uploadBtn").addEventListener("click", () => widget.open());
</script>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const SUPABASE_URL = "https://gnwrsmlmegduhhmfmoa.supabase.co";
  const SUPABASE_ANON_KEY = "sb_publishable_AkK_Z7lhtkvukN6Fy1cAQ_KBTXIcY9";
  const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY)

  const msg = (text, ok=true) => {
    const el = document.getElementById("msg");
    el.className = "note " + (ok ? "ok" : "bad");
    el.textContent = text;
  };
  
  document.getElementById("publishBtn").addEventListener("click", async () => {
    try {
      const photosText = document.getElementById("photos").value.trim();
      if (!photosText) { msg("Ngarko t√´ pakt√´n 1 foto.", false); return; }

      const photos = photosText.split(/\n|,/g).map(s => s.trim()).filter(Boolean);

      const data = {
        category: document.getElementById("category").value,
        brand: document.getElementById("brand").value.trim(),
        model: document.getElementById("model").value.trim(),
        ref: document.getElementById("ref").value.trim(),
        year: document.getElementById("year").value ? Number(document.getElementById("year").value) : null,
        material: document.getElementById("material").value.trim(),
        condition: document.getElementById("condition").value,
        description: document.getElementById("description").value.trim(),
        case_size: document.getElementById("case_size").value ? Number(document.getElementById("case_size").value) : null,
        price: document.getElementById("price").value ? Number(document.getElementById("price").value) : null,
        photos,
        box: document.getElementById("box").value || null,
        working: document.getElementById("working").value || null,
        status: "pending"
      };

       msg("Duke d√´rguar...", true);

          const { error } = await supabaseClient.from("listings").insert([data]);
          if (error) { msg("Gabim Supabase: " + error.message, false); console.error(error); return; }

          msg("U d√´rgua ‚úÖ (pending).", true);
        } catch (e) {
          msg("Gabim rrjeti/JS: " + (e?.message || String(e)), false);
          console.error(e);
        }
      });
</script>
 
</body>
</html>



sellnow
<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shto or√´ (sell now)</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin.css">
 
<style>
  body{font-family:Arial,sans-serif;background:#0b0b0b;color:#fff;margin:0;padding:20px}
  .wrap{max-width:900px;margin:0 auto}
  .top{display:flex;justify-content:space-between;align-items:center;gap:10px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  @media(max-width:820px){.row{grid-template-columns:1fr}}
  label{display:block;margin:12px 0 6px;color:#ddd}
  input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#111;color:#fff}
  textarea{min-height:90px}
  .btn{margin-top:14px;padding:12px 14px;border-radius:12px;border:1px solid #2a2a2a;background:#0f0f0f;color:#fff;cursor:pointer}
  .btn:hover{background:#1a1a1a}
  .note{opacity:.85;font-size:13px;margin-top:8px;line-height:1.4}
  .ok{color:#25D366}
  .bad{color:#ff6b6b}

  /* extra */
  body { padding: 16px; font-family: system-ui, -apple-system, BlinkMacSystemFont; }
  .btn { padding: 14px 18px; font-size: 16px; border-radius: 8px; }
  #photosPreview img { width: 120px; height: auto; margin: 8px; border-radius: 6px; }

  .logo-center{
    display:flex;
    justify-content:center;
    margin: 10px 0 30px;
  }
  .logo-center img{
    height: 200px;
  }
</style>
    
     
</head>

<body class="sell-page">
<div class="wrap">

  <!-- ‚úÖ LOGO N√ã MES (SIP√ãR) -->
  <div class="logo-center">
    <img src="images/oraswiss-logo.png" alt="OraSwiss Logo">
  </div>

  <div class="top">
    <h2 style="margin:0">Shto or√´ (sell now)</h2>
    <button class="btn" type="button" onclick="history.back()">‚Üê Back</button>
  </div>

  <div class="note">
    1) Kliko <b>Upload Photos</b> (ngarkon fotot dhe mbush automatikisht URL-t√´)<br/>
    2) Plot√´so fushat<br/>
    3) Kliko <b>PUBLISH</b> ‚Üí shkon n√´ Supabase me status <b>pending</b>
  </div>

  <label>Category</label>
  <select id="category">
    <option value="luxury">Luxury</option>
    <option value="vintage" selected>Vintage</option>
    <option value="parts">Parts</option>
  </select>

  <div class="row">
    <div><label>Brand</label><input id="brand" placeholder="Omega"></div>
    <div><label>Model</label><input id="model" placeholder="Seamaster"></div>
  </div>

  <div class="row">
    <div><label>Ref</label><input id="ref" placeholder="2400-4"></div>
    <div><label>Year</label><input id="year" type="number" placeholder="1999"></div>
  </div>

  <div class="row">
    <div><label>Material</label><input id="material" placeholder="Steel"></div>
    <div><label>Case Size (mm)</label><input id="case_size" type="number" placeholder="35"></div>
  </div>

  <div class="row">
    <div>
      <label>Condition</label>
      <select id="condition">
        <option>New</option>
        <option>Like New</option>
        <option selected>Very Good</option>
        <option>Good</option>
        <option>Used - Fair</option>
      </select>
    </div>
    <div><label>Price (‚Ç¨)</label><input id="price" type="number" placeholder="900"></div>
  </div>

  <div class="row">
    <div>
      <label>Box & Papers</label>
      <select id="box">
        <option value="">Nuk e di</option>
        <option value="fullset">Box & Papers</option>
        <option value="box_only">Vet√´m Box</option>
        <option value="papers_only">Vet√´m Papers</option>
        <option value="none">Pa Box / Papers</option>
      </select>
    </div>
    <div>
      <label>Working</label>
      <select id="working">
        <option value="">Nuk e di</option>
        <option value="working">Working</option>
        <option value="not_working">Not working</option>
      </select>
    </div>
  </div>

<label>Description</label>
<textarea id="description" placeholder="Shkruaj p√´rshkrimin..."></textarea>
  

<!-- BUTONI Q√ã KLIKOHET -->
<button id="chooseBtn" type="button">Upload Photos</button>

<!-- INPUT (JO display:none) -->
<input
  id="photoFiles"
  type="file"
  accept="image/*"
  multiple
  style="position:absolute; left:-9999px;"
/>

<div id="msg"></div>

<button id="uploadBtn" type="button">NGARKO FOTOT</button>

<button id="publishBtn" type="button">PUBLISH</button>
  

  
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
  import {
    getStorage, ref, uploadBytes, getDownloadURL
  } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-storage.js";
  import {
    getFirestore, collection, addDoc, serverTimestamp
  } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "‚Ä¶",
    authDomain: "oraswiss-27e57.firebaseapp.com",
    projectId: "oraswiss-27e57",
    storageBucket: "oraswiss-27e57.appspot.com",
    messagingSenderId: "‚Ä¶",
    appId: "‚Ä¶"
  };

  const app = initializeApp(firebaseConfig);
  const storage = getStorage(app);
  const db = getFirestore(app);

const chooseBtn = document.getElementById("chooseBtn");
const fileInput = document.getElementById("photoFiles");
const uploadBtn = document.getElementById("uploadBtn");
const publishBtn = document.getElementById("publishBtn");
const msg = document.getElementById("msg");

function setMsg(t) {
  msg.textContent = t;
}

// HAP FILE PICKER (FUNKSIONON N√ã IPHONE)
chooseBtn.addEventListener("click", () => {
  fileInput.click();
});

// KUR ZGJIDH FOTO
fileInput.addEventListener("change", () => {
  setMsg("üìÇ U zgjodh√´n " + fileInput.files.length + " foto");
});

// NGARKO FOTO (TEST)
uploadBtn.addEventListener("click", async () => {
  if (fileInput.files.length === 0) {
    setMsg("‚ùå Zgjidh foto fillimisht");
    return;
  }

  setMsg("‚è≥ Duke ngarkuar...");
  await new Promise(r => setTimeout(r, 1500));
  setMsg("‚úÖ Foto u ngarkuan (" + fileInput.files.length + ")");
});

// PUBLISH (VET√ãM TEST)
publishBtn.addEventListener("click", () => {
  setMsg("üöÄ Publish OK");
});

</script>
</body>
</html>


sellnow3



rules user
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // users collection
    match /users/{userId} {
      // useri sheh vet√´m veten
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }

    // lejo NUM√ãRIMIN e users
    match /users/{docId} {
      allow list: if true;
    }
  }
}  


sellnow
<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shto or√´ (sell now)</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin.css">
 
<style>
  body{font-family:Arial,sans-serif;background:#0b0b0b;color:#fff;margin:0;padding:20px}
  .wrap{max-width:900px;margin:0 auto}
  .top{display:flex;justify-content:space-between;align-items:center;gap:10px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  @media(max-width:820px){.row{grid-template-columns:1fr}}
  label{display:block;margin:12px 0 6px;color:#ddd}
  input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#111;color:#fff}
  textarea{min-height:90px}
  .btn{margin-top:14px;padding:12px 14px;border-radius:12px;border:1px solid #2a2a2a;background:#0f0f0f;color:#fff;cursor:pointer}
  .btn:hover{background:#1a1a1a}
  .note{opacity:.85;font-size:13px;margin-top:8px;line-height:1.4}
  .ok{color:#25D366}
  .bad{color:#ff6b6b}

  /* extra */
  body { padding: 16px; font-family: system-ui, -apple-system, BlinkMacSystemFont; }
  .btn { padding: 14px 18px; font-size: 16px; border-radius: 8px; }
  #photosPreview img { width: 120px; height: auto; margin: 8px; border-radius: 6px; }

  .logo-center{
    display:flex;
    justify-content:center;
    margin: 10px 0 30px;
  }
  .logo-center img{
    height: 200px;
  }
</style>
    
     
</head>

<body class="sell-page">
<div class="wrap">

  <!-- ‚úÖ LOGO N√ã MES (SIP√ãR) -->
  <div class="logo-center">
    <img src="images/oraswiss-logo.png" alt="OraSwiss Logo">
  </div>

  <div class="top">
    <h2 style="margin:0">Shto or√´ (sell now)</h2>
    <button class="btn" type="button" onclick="history.back()">‚Üê Back</button>
  </div>

  <div class="note">
    1) Kliko <b>Upload Photos</b> (ngarkon fotot dhe mbush automatikisht URL-t√´)<br/>
    2) Plot√´so fushat<br/>
    3) Kliko <b>PUBLISH</b> ‚Üí shkon n√´ Supabase me status <b>pending</b>
  </div>

  <label>Category</label>
  <select id="category">
    <option value="luxury">Luxury</option>
    <option value="vintage" selected>Vintage</option>
    <option value="parts">Parts</option>
  </select>

  <div class="row">
    <div><label>Brand</label><input id="brand" placeholder="Omega"></div>
    <div><label>Model</label><input id="model" placeholder="Seamaster"></div>
  </div>

  <div class="row">
    <div><label>Ref</label><input id="ref" placeholder="2400-4"></div>
    <div><label>Year</label><input id="year" type="number" placeholder="1999"></div>
  </div>

  <div class="row">
    <div><label>Material</label><input id="material" placeholder="Steel"></div>
    <div><label>Case Size (mm)</label><input id="case_size" type="number" placeholder="35"></div>
  </div>

  <div class="row">
    <div>
      <label>Condition</label>
      <select id="condition">
        <option>New</option>
        <option>Like New</option>
        <option selected>Very Good</option>
        <option>Good</option>
        <option>Used - Fair</option>
      </select>
    </div>
    <div><label>Price (‚Ç¨)</label><input id="price" type="number" placeholder="900"></div>
  </div>

  <div class="row">
    <div>
      <label>Box & Papers</label>
      <select id="box">
        <option value="">Nuk e di</option>
        <option value="fullset">Box & Papers</option>
        <option value="box_only">Vet√´m Box</option>
        <option value="papers_only">Vet√´m Papers</option>
        <option value="none">Pa Box / Papers</option>
      </select>
    </div>
    <div>
      <label>Working</label>
      <select id="working">
        <option value="">Nuk e di</option>
        <option value="working">Working</option>
        <option value="not_working">Not working</option>
      </select>
    </div>
  </div>

<label>Description</label>
<textarea id="description" placeholder="Shkruaj p√´rshkrimin..."></textarea>
  

<!-- BUTONI Q√ã KLIKOHET -->
<button id="chooseBtn" type="button">Upload Photos</button>

<!-- INPUT (JO display:none) -->
<input
  id="photoFiles"
  type="file"
  accept="image/*"
  multiple
  style="position:absolute; left:-9999px;"
/>

<div id="msg"></div>

<button id="uploadBtn" type="button">NGARKO FOTOT</button>

<button id="publishBtn" type="button">PUBLISH</button>
  

  
<script type="module">
  import { getAuth } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
  import {
    getStorage, ref, uploadBytes, getDownloadURL
  } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-storage.js";
  import {
    getFirestore, collection, addDoc, serverTimestamp
  } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "‚Ä¶",
    authDomain: "oraswiss-27e57.firebaseapp.com",
    projectId: "oraswiss-27e57",
    storageBucket: "oraswiss-27e57.appspot.com",
    messagingSenderId: "‚Ä¶",
    appId: "‚Ä¶"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const storage = getStorage(app); 
  const db = getFirestore(app);

const chooseBtn = document.getElementById("chooseBtn");
const fileInput = document.getElementById("photoFiles");
const uploadBtn = document.getElementById("uploadBtn");
const publishBtn = document.getElementById("publishBtn");
const msg = document.getElementById("msg");

function setMsg(t) {
  msg.textContent = t;
}

// HAP FILE PICKER (FUNKSIONON N√ã IPHONE)
chooseBtn.addEventListener("click", () => {
  fileInput.click();
});

// KUR ZGJIDH FOTO
fileInput.addEventListener("change", () => {
  setMsg("üìÇ U zgjodh√´n " + fileInput.files.length + " foto");
});

// NGARKO FOTO (TEST)
uploadBtn.addEventListener("click", async () => {
  if (fileInput.files.length === 0) {
    setMsg("‚ùå Zgjidh foto fillimisht");
    return;
  }

  setMsg("‚è≥ Duke ngarkuar...");
  await new Promise(r => setTimeout(r, 1500));
  setMsg("‚úÖ Foto u ngarkuan (" + fileInput.files.length + ")");
});

publishBtn.addEventListener("click", async () => {
  publishBtn.disabled = true;

  try {
    setMsg("‚è≥ Duke publikuar...");

    if (!auth.currentUser) throw new Error("User jo i loguar");
    if (!fileInput.files.length) throw new Error("Zgjidh t√´ pakt√´n 1 foto");

    const uid = auth.currentUser.uid;

    // 1) ngarko fotot (k√´tu thirre funksionin t√´nd real)
    const photoUrls = await uploadPhotos(uid);

    if (!photoUrls || !photoUrls.length) {
      throw new Error("Fotot nuk u ngarkuan");
    }

    // 2) krijo postimin n√´ Firestore
    await addDoc(collection(db, "sellnow"), {
      userId: uid,
      photos: photoUrls,
      createdAt: serverTimestamp(),
      status: "active",
    });

    setMsg("‚úÖ Postimi u publikua!");
  } catch (err) {
    console.error("‚ùå ERROR:", err);
    setMsg("‚ùå Gabim: " + err.message);
  } finally {
    publishBtn.disabled = false;
  }
});

</script>
</body>
</html>




register
<!DOCTYPE html>
<html lang="sq">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="auth-page">
    <div class="auth-card register-form">
      <button class="back-btn" onclick="history.back()">‚Üê Back</button>

      <h2>Sign Up</h2>
      <input id="fullName" placeholder="Full Name" autocomplete="name" />
      <input id="phone" placeholder="Phone" autocomplete="tel" />
      <input id="country" placeholder="Country" autocomplete="country-name" />
      <input id="email" type="email" placeholder="Email" autocomplete="email" autocapitalize="none" />
      <input id="password" type="password" placeholder="Password" autocomplete="new-password" />
      <button id="btnRegister" type="button" class="auth-btn">Register</button>

      <div class="auth-sep"></div>

      <h2>Login</h2>
      <input id="loginEmail" type="email" placeholder="Email" autocomplete="email" autocapitalize="none" />
      <input id="loginPassword" type="password" placeholder="Password" autocomplete="current-password" />
      <button id="btnLogin" type="button" class="auth-btn">Login</button>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";

    // ‚úÖ Vendos konfigurimin t√´nd k√´tu (si objekt i vet√´m)
    const firebaseConfig = {
      apiKey: "AIzaSyACmJj1OGz1gfRUjxz-w3_k94tNBfNyvVg",
      authDomain: "oraswiss-27e57.firebaseapp.com",
      projectId: "oraswiss-27e57",
      storageBucket: "oraswiss-27e57.firebasestorage.app",
      messagingSenderId: "596627676936",
      appId: "1:596627676936:web:0c96cf820fef4e979616bd",
      measurementId: "G-VZPKMD67VQ"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.addEventListener("DOMContentLoaded", () => {

      // REGISTER
      document.getElementById("btnRegister").addEventListener("click", async () => {
        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value;

        if (!email || !password) {
          alert("Plot√´so email dhe password");
          return;
        }

        try {
          await createUserWithEmailAndPassword(auth, email, password);
          alert("Regjistrimi u krye");
        } catch (e) {
          alert(e.message);
        }
      });

      // LOGIN
      document.getElementById("btnLogin").addEventListener("click", async () => {
        const email = document.getElementById("loginEmail").value.trim();
        const password = document.getElementById("loginPassword").value;

        try {
          await signInWithEmailAndPassword(auth, email, password);
          window.location.href = "sellnow.html";
        } catch (e) {
          alert(e.message);
        }
      });

    });
  </script>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/service-worker.js");
    }
  </script>
</body>
</html>






sellnow
<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shto or√´ (sell now)</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin.css">
 
<style>
  body{font-family:Arial,sans-serif;background:#0b0b0b;color:#fff;margin:0;padding:20px}
  .wrap{max-width:900px;margin:0 auto}
  .top{display:flex;justify-content:space-between;align-items:center;gap:10px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  @media(max-width:820px){.row{grid-template-columns:1fr}}
  label{display:block;margin:12px 0 6px;color:#ddd}
  input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#111;color:#fff}
  textarea{min-height:90px}
  .btn{margin-top:14px;padding:12px 14px;border-radius:12px;border:1px solid #2a2a2a;background:#0f0f0f;color:#fff;cursor:pointer}
  .btn:hover{background:#1a1a1a}
  .note{opacity:.85;font-size:13px;margin-top:8px;line-height:1.4}
  .ok{color:#25D366}
  .bad{color:#ff6b6b}

  /* extra */
  body { padding: 16px; font-family: system-ui, -apple-system, BlinkMacSystemFont; }
  .btn { padding: 14px 18px; font-size: 16px; border-radius: 8px; }
  #photosPreview img { width: 120px; height: auto; margin: 8px; border-radius: 6px; }

  .logo-center{
    display:flex;
    justify-content:center;
    margin: 10px 0 30px;
  }
  .logo-center img{
    height: 200px;
  }
</style>
    
     
</head>

<body class="sell-page">
<div class="wrap">

  <!-- ‚úÖ LOGO N√ã MES (SIP√ãR) -->
  <div class="logo-center">
    <img src="images/oraswiss-logo.png" alt="OraSwiss Logo">
  </div>

  <div class="top">
    <h2 style="margin:0">Shto or√´ (sell now)</h2>
    <button class="btn" type="button" onclick="history.back()">‚Üê Back</button>
  </div>

  <div class="note">
    1) Kliko <b>Upload Photos</b> (ngarkon fotot dhe mbush automatikisht URL-t√´)<br/>
    2) Plot√´so fushat<br/>
    3) Kliko <b>PUBLISH</b> ‚Üí shkon n√´ Supabase me status <b>pending</b>
  </div>

  <label>Category</label>
  <select id="category">
    <option value="luxury">Luxury</option>
    <option value="vintage" selected>Vintage</option>
    <option value="parts">Parts</option>
  </select>

  <div class="row">
    <div><label>Brand</label><input id="brand" placeholder="Omega"></div>
    <div><label>Model</label><input id="model" placeholder="Seamaster"></div>
  </div>

  <div class="row">
    <div><label>Ref</label><input id="ref" placeholder="2400-4"></div>
    <div><label>Year</label><input id="year" type="number" placeholder="1999"></div>
  </div>

  <div class="row">
    <div><label>Material</label><input id="material" placeholder="Steel"></div>
    <div><label>Case Size (mm)</label><input id="case_size" type="number" placeholder="35"></div>
  </div>

  <div class="row">
    <div>
      <label>Condition</label>
      <select id="condition">
        <option>New</option>
        <option>Like New</option>
        <option selected>Very Good</option>
        <option>Good</option>
        <option>Used - Fair</option>
      </select>
    </div>
    <div><label>Price (‚Ç¨)</label><input id="price" type="number" placeholder="900"></div>
  </div>

  <div class="row">
    <div>
      <label>Box & Papers</label>
      <select id="box">
        <option value="">Nuk e di</option>
        <option value="fullset">Box & Papers</option>
        <option value="box_only">Vet√´m Box</option>
        <option value="papers_only">Vet√´m Papers</option>
        <option value="none">Pa Box / Papers</option>
      </select>
    </div>
    <div>
      <label>Working</label>
      <select id="working">
        <option value="">Nuk e di</option>
        <option value="working">Working</option>
        <option value="not_working">Not working</option>
      </select>
    </div>
  </div>

<label>Description</label>
<textarea id="description" placeholder="Shkruaj p√´rshkrimin..."></textarea>
  

<!-- BUTONI Q√ã KLIKOHET -->
<button id="chooseBtn" type="button">Upload Photos</button>

<!-- INPUT (JO display:none) -->
<input
  id="photoFiles"
  type="file"
  accept="image/*"
  multiple
  style="position:absolute; left:-9999px;"
/>

<div id="msg"></div>

<button id="uploadBtn" type="button">NGARKO FOTOT</button>

<button id="publishBtn" type="button">PUBLISH</button>
  

  
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "‚Ä¶",
  authDomain: "oraswiss-27e57.firebaseapp.com",
  projectId: "oraswiss-27e57",
  storageBucket: "oraswiss-27e57.appspot.com",
  messagingSenderId: "‚Ä¶",
  appId: "‚Ä¶"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

const fileInput = document.getElementById("photoFiles");
const uploadBtn = document.getElementById("uploadBtn");
const publishBtn = document.getElementById("publishBtn");
const msg = document.getElementById("msg");

let currentUser = null;
function setMsg(t){ msg.textContent = t; }

publishBtn.disabled = true;
uploadBtn.disabled = true;
setMsg("‚è≥ Po kontrolloj login...");

onAuthStateChanged(auth, (user) => {
  currentUser = user;
  if (!user) {
    setMsg("‚ùå Duhet t√´ jesh i loguar");
    publishBtn.disabled = true;
    uploadBtn.disabled = true;
  } else {
    setMsg("‚úÖ I loguar si: " + (user.email || user.uid));
    publishBtn.disabled = false;
    uploadBtn.disabled = false;
  }
});

// TEST upload (vet√´m UI)
uploadBtn.addEventListener("click", async () => {
  if (!fileInput.files.length) return setMsg("‚ùå Zgjidh foto");
  setMsg("‚è≥ Duke ngarkuar...");
  await new Promise(r => setTimeout(r, 600));
  setMsg("‚úÖ Foto gati");
});

// PUBLISH
publishBtn.addEventListener("click", async () => {
  try {
    if (!currentUser) throw new Error("User jo i loguar");
    setMsg("‚è≥ Duke publikuar...");
    await addDoc(collection(db, "sellnow"), {
      userId: currentUser.uid,
      createdAt: serverTimestamp(),
      status: "active"
    });
    setMsg("‚úÖ Publikuar");
  } catch (e) {
    setMsg("‚ùå " + e.message);
  }
});
</script> 
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyACmJj1OGz1gfRUjxz-w3_k94tNBfNyvVg",
  authDomain: "oraswiss-27e57.firebaseapp.com",
  projectId: "oraswiss-27e57",
  storageBucket: "oraswiss-27e57.firebasestorage.app",
  messagingSenderId: "596627676936",
  appId: "1:596627676936:web:0c96cf820fef4e979616bd",
  measurementId: "G-VZPKMD67VQ"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// ELEMENTET
const uploadBtn = document.getElementById("uploadBtn");
const publishBtn = document.getElementById("publishBtn");
const msg = document.getElementById("msg");

onAuthStateChanged(auth, (user) => {
  if (!user) {
    msg.textContent = "‚ùå Duhet t√´ jesh i loguar p√´r t√´ shitur";
    uploadBtn.disabled = true;
    publishBtn.disabled = true;
  } else {
    msg.textContent = "‚úÖ I loguar si: " + user.email;
    uploadBtn.disabled = false;
    publishBtn.disabled = false;
  }
});
</script>  
  
</body>
</html>


sell.html

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sell Your Watch</title>

<!-- UPLOADCARE SCRIPT -->
<script>
  UPLOADCARE_PUBLIC_KEY = "demopublickey"; /* kur t√´ hap√´sh llogari t√´nde, e z√´vend√´son */
</script>
<script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>

<style>
body {
    margin: 0;
    padding: 0;
    background: #000;
    color: #fff;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
}

.sell-form {
    background: #111;
    padding: 30px 25px;
    border-radius: 10px;
    width: 100%;
    max-width: 420px;
    margin-top: 40px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.7);
}

.sell-form h3 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 20px;
    border-bottom: 1px solid #222;
    padding-bottom: 5px;
}

.sell-form label {
    display: block;
    font-size: 14px;
    margin-top: 12px;
    margin-bottom: 5px;
}

.sell-form input,
.sell-form textarea,
.sell-form select {
    width: 100%;
    padding: 10px 12px;
    border-radius: 6px;
    border: 1px solid #333;
    background: #1b1b1b;
    color: #fff;
    font-size: 14px;
    margin-bottom: 10px;
}

.sell-form textarea {
    resize: vertical;
}

.sell-form button {
    width: 100%;
    padding: 12px;
    background: #0099ff;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    margin-top: 15px;
}

.sell-form button:hover {
    background: #0077cc;
}
</style>
</head>

<body>

<form action="https://api.web3forms.com/submit"
      method="POST"
      class="sell-form">

    <!-- Web3Forms settings -->
    <input type="hidden" name="access_key" value="4ecbdce6-d462-4e39-b39d-8c11e0095f46">
    <input type="hidden" name="subject" value="New Sell Your Watch Request">
    <input type="hidden" name="from_name" value="OraSwiss Website">
    <input type="hidden" name="botcheck">

    <!-- K√´tu do ruajm√´ linkun e fotos -->
    <input type="hidden" name="photos" id="photosField">

    <h3>Your Details</h3>

    <label>First name:</label>
    <input type="text" name="first_name" placeholder="Your first name" required>

    <label>Last name:</label>
    <input type="text" name="last_name" placeholder="Your last name" required>

    <label>Email:</label>
    <input type="email" name="email" placeholder="Your email address" required>

    <label>Phone:</label>
    <input type="text" name="phone" placeholder="+355..., +30..." required>

    <h3>Watch Details</h3>

    <label>Brand:</label>
    <input type="text" name="brand" placeholder="Rolex, Omega, etc." required>

    <label>Model / Reference:</label>
    <input type="text" name="model" placeholder="Model / Reference">

    <label>Movement type:</label>
    <select name="movement">
        <option>Automatic</option>
        <option>Manual</option>
        <option>Quartz</option>
        <option>Other</option>
    </select>

    <label>Year (approx.):</label>
    <input type="text" name="year" placeholder="Approximate year">

    <label>Condition / Notes:</label>
    <textarea name="notes" rows="4"
              placeholder="Condition, box & papers, service history..."></textarea>

    <label>Upload Photos:</label>
    <input
      type="hidden"
      role="uploadcare-uploader"
      data-multiple="false"
      data-clearable="true"
      id="uploader"
    />

    <button type="submit">Send Offer</button>

    <a href="index.html"
       style="color:#ccc; text-align:center; display:block; margin-top:10px;">
       ‚Üê Back to Home
    </a>

</form>

<!-- SCRIPT q√´ kopjon linkun e fotos te photosField -->
<script>
  (function() {
    var widget = uploadcare.Widget('#uploader');

    widget.onUploadComplete(function(fileInfo) {
        // fileInfo.cdnUrl = linku direkt i fotos
        var field = document.getElementById('photosField');
        field.value = fileInfo.cdnUrl || '';
    });
  })();
</script>

</body>






