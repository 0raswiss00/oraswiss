<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Vintage Watches</title>
<style>
body{background:#0b0b0b;color:#fff;font-family:Arial;margin:0;padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
.card{background:#111;border:1px solid #222;border-radius:12px;padding:12px}
.card img{width:100%;border-radius:10px;border:1px solid #222}
</style>
</head>
<body>

<h1>Vintage Watches</h1>

<!-- KËTU E KE LISTËN: BRENDA BODY, POSHTË TITULLIT -->
<div id="list" class="grid"></div>

<script>
const list = document.getElementById("list");

fetch("watches.json?v=" + Date.now(), { cache: "no-store" })
  .then(r => {
    if(!r.ok) throw new Error("HTTP " + r.status);
    return r.json();
  })
  .then(data => {
    const items = Array.isArray(data) ? data : (data.items || []);
    const filtered = items.filter(p => (p.cat||"").toLowerCase() === "vintage");

    if(!filtered.length){
      list.innerHTML = "<p>No vintage products.</p>";
      return;
    }

    list.innerHTML = filtered.map(p => {
      const photos = Array.isArray(p.photos) ? p.photos : [];
      const main = photos[0] || "";
      return `
        <section class="card">
          ${main ? <img src="${main}" alt=""> : `<div style="height:220px;border:1px dashed #333;border-radius:10px;display:flex;align-items:center;justify-content:center">NO PHOTO</div>`}
          <h3 style="margin:10px 0 6px">${p.brand||""} ${p.model||""}</h3>
          <div style="opacity:.85">${p.year||""} • ${p.caseSize||""}mm • ${p.material||""}</div>
          <div style="margin-top:8px"><b>${p.price||""}</b></div>
          <div style="opacity:.85;margin-top:6px">${p.description||""}</div>
        </section>
      `;
    }).join("");
  })
  .catch(err => {
    console.error("Failed to load JSON:", err);
    list.innerHTML = "<p>ERROR loading products. (Check watches.json + img paths)</p>";
  });
</script>

</body>
</html>

